{% extends "admin/base.html" %}

{% block content %}
<div class="jumbotron">
  <div class="container">
    <h1>All Dojos</h1>
    <button class="btn btn-danger" data-toggle="modal" data-target="#panicModal">Docker Panic (Kill all workspace containers)</button>
  </div>
</div>
<div class="container">
    {% for dojo in dojos %}
    <h2><a href="{{ url_for('pwncollege_dojo.view_dojo', dojo=dojo.reference_id) }}">{{ dojo.name }}</a></h2>
    <b>Reference ID: </b><code>{{ dojo.reference_id }}</code>
    <br>
    <b>Dojo ID: </b><code>{{ dojo.hex_dojo_id }}</code>
    <br>
    <b>Git Hash: </b><code>{{ dojo.hash[:8] }}</code>
    <br>
    <b>Last Commit: </b><code>{{ dojo.last_commit_time }}</code>
    <br>
    <b>Admins</b>
    <ul>
        {% for admin in dojo.admins %}
        <li>{{ admin.user.name }}</li>
        {% endfor %}
    </ul>
    <hr>
    {% endfor %}
</div>
<div id="panicModal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Modal body text goes here.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary">Save changes</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

